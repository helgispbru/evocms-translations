import{_ as w,u as D,a as L,d as S,r as j,l as B,f as C,b as P,c as i,e as $,U as E,w as I,g as O,h as n,i as A,t as f,j as t,k as N,o as p,m as b,F as v,n as V,T as m,p as q}from"./index-sLDwdUli.js";import{V as x,D as F,r as K,e as r}from"./ru-DTXYvJ1x.js";const U={class:"tab-content page-langs container-fluid"},G={class:"pt-3"},H={class:"d-flex align-items-center"},M={class:"flex-grow-1"},R={class:"d-flex"},z=["onClick","title"],J=["onClick","title"],Q={__name:"PageLanguages",setup(W){const u=D(),{t:a,locale:d}=L(),l=S.useToast();x.use(F);const e=j(null);B.add(C,P);const g=i({en:r,ru:K}),o=i({});o.value=g[d.value]||r;const y=$(()=>[{data:"code",title:a("languages.cols.code"),orderable:!0},{data:"title",title:a("languages.cols.title"),orderable:!0}]),_=i({ajax:{url:`${E}/languages`},serverSide:!0,language:o.value,responsive:!0,dom:'<"top"lf>t<"bottom"ip>',stateSave:!0});I(d,async s=>{o.value=g[s]||r,_.language=o.value,u.increaseTableKey()});async function h(s){await V(a,s)&&(l.success(a("languages.toast.edited"),m),e.value.dt&&e.value.dt.ajax.reload&&e.value.dt.ajax.reload(null,!1))}async function k(s){await q(a,s,l)&&(l.success(a("languages.toast.deleted"),m),e.value.dt&&e.value.dt.ajax.reload&&e.value.dt.ajax.reload(null,!1))}return(s,X)=>(p(),O("div",U,[n("h1",G,f(t(a)("languages.title")),1),(p(),A(t(x),{ref_key:"dataTable",ref:e,key:t(u).tableKey,columns:y.value,options:_,class:"table"},{"column-1":N(c=>[n("div",H,[n("span",M,f(c.cellData),1),n("span",R,[n("button",{onClick:T=>h(Object.assign({action:"edit"},c.rowData)),type:"button",class:"btn btn-link text-secondary py-0",title:t(a)("btn.edit")},[b(t(v),{icon:"pen-to-square"})],8,z),n("button",{onClick:T=>k({id:c.rowData.id}),type:"button",class:"btn btn-link text-secondary py-0",title:t(a)("btn.delete")},[b(t(v),{icon:"trash"})],8,J)])])]),_:1},8,["columns","options"]))]))}},aa=w(Q,[["__scopeId","data-v-b749fe52"]]);export{aa as default};
