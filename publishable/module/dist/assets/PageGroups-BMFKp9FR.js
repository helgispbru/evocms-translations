import{_ as w,q as D,a as S,d as j,r as G,l as B,f as C,b as P,c as r,e as $,U as E,w as I,g as O,h as o,i as q,t as f,j as a,k as A,o as b,m as g,F as v,s as L,T as m,v as N}from"./index-B8mXUOvT.js";import{V as x,D as V,r as F,e as i}from"./ru-CYzueayd.js";const K={class:"tab-content page-groups container-fluid"},U={class:"pt-3"},H={class:"d-flex align-items-center"},M={class:"flex-grow-1"},R={class:"d-flex"},z=["onClick","title"],J=["onClick","title"],Q={__name:"PageGroups",setup(W){const u=D(),{t,locale:d}=S(),l=j.useToast();x.use(V);const e=G(null);B.add(C,P);const p=r({en:i,ru:F}),n=r({});n.value=p[d.value]||i;const y=$(()=>[{data:"code",title:t("groups.cols.code"),orderable:!0},{data:"title",title:t("groups.cols.title"),orderable:!0}]),_=r({ajax:{url:`${E}/groups`},serverSide:!0,language:n.value,responsive:!0,dom:'<"top"lf>t<"bottom"ip>',stateSave:!0});I(d,async s=>{n.value=p[s]||i,_.language=n.value,u.increaseTableKey()});async function h(s){await L(t,s)&&(l.success(t("groups.toast.edited"),m),e.value.dt&&e.value.dt.ajax.reload&&e.value.dt.ajax.reload(null,!1))}async function k(s){await N(t,s,l)&&(l.success(t("groups.toast.deleted"),m),e.value.dt&&e.value.dt.ajax.reload&&e.value.dt.ajax.reload(null,!1))}return(s,X)=>(b(),O("div",K,[o("h1",U,f(a(t)("groups.title")),1),(b(),q(a(x),{ref_key:"dataTable",ref:e,key:a(u).tableKey,columns:y.value,options:_,class:"table"},{"column-1":A(c=>[o("div",H,[o("span",M,f(c.cellData),1),o("span",R,[o("button",{onClick:T=>h(Object.assign({action:"edit"},c.rowData)),type:"button",class:"btn btn-link text-secondary py-0",title:a(t)("btn.edit")},[g(a(v),{icon:"pen-to-square"})],8,z),o("button",{onClick:T=>k({id:c.rowData.id}),type:"button",class:"btn btn-link text-secondary py-0",title:a(t)("btn.delete")},[g(a(v),{icon:"trash"})],8,J)])])]),_:1},8,["columns","options"]))]))}},tt=w(Q,[["__scopeId","data-v-7e7a0884"]]);export{tt as default};
